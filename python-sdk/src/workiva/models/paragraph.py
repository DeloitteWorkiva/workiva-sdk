"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .listformat import ListFormat, ListFormatTypedDict
from .paragraphproperties import ParagraphProperties, ParagraphPropertiesTypedDict
from .richtextformat import RichTextFormat, RichTextFormatTypedDict
from .styleref import StyleRef, StyleRefTypedDict
from .textelement import TextElement, TextElementTypedDict
import pydantic
from pydantic import model_serializer
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva.types import BaseModel, Nullable, OptionalNullable, UNSET, UNSET_SENTINEL


class ParagraphTypedDict(TypedDict):
    r"""A paragraph of rich-text content."""

    elements: NotRequired[List[TextElementTypedDict]]
    r"""The text elements that make up the paragraph"""
    format_: NotRequired[Nullable[RichTextFormatTypedDict]]
    r"""The formatting options applied to rich text elements."""
    index: NotRequired[int]
    r"""The index of this paragraph relative to other paragraphs in a RichText"""
    list: NotRequired[Nullable[ListFormatTypedDict]]
    r"""The list formatting options applied to the given paragraph.

    """
    properties: NotRequired[Nullable[ParagraphPropertiesTypedDict]]
    r"""The properties for rich-text paragraphs. Null values indicate that the format is inheriting from style or the container when reading.

    """
    style: NotRequired[StyleRefTypedDict]
    r"""A reference to a style."""


class Paragraph(BaseModel):
    r"""A paragraph of rich-text content."""

    elements: Optional[List[TextElement]] = None
    r"""The text elements that make up the paragraph"""

    format_: Annotated[
        OptionalNullable[RichTextFormat], pydantic.Field(alias="format")
    ] = UNSET
    r"""The formatting options applied to rich text elements."""

    index: Optional[int] = None
    r"""The index of this paragraph relative to other paragraphs in a RichText"""

    list: OptionalNullable[ListFormat] = UNSET
    r"""The list formatting options applied to the given paragraph.

    """

    properties: OptionalNullable[ParagraphProperties] = UNSET
    r"""The properties for rich-text paragraphs. Null values indicate that the format is inheriting from style or the container when reading.

    """

    style: Optional[StyleRef] = None
    r"""A reference to a style."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            ["elements", "format", "index", "list", "properties", "style"]
        )
        nullable_fields = set(["format", "list", "properties"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            is_nullable_and_explicitly_set = (
                k in nullable_fields
                and (self.__pydantic_fields_set__.intersection({n}))  # pylint: disable=no-member
            )

            if val != UNSET_SENTINEL:
                if (
                    val is not None
                    or k not in optional_fields
                    or is_nullable_and_explicitly_set
                ):
                    m[k] = val

        return m
