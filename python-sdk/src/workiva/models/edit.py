"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from enum import Enum
import pydantic
from pydantic import model_serializer
from typing import Any, Dict, Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva.types import BaseModel, UNSET_SENTINEL


class EditOperation(str, Enum):
    r"""The operation to carry out (see enumerated values)"""

    CREATE_RECORD = "create_record"
    DELETE_RECORD = "delete_record"
    CREATE_RELATIONSHIP = "create_relationship"
    DELETE_RELATIONSHIP = "delete_relationship"
    SET_PROPERTIES = "set_properties"


class EditTypedDict(TypedDict):
    operation: EditOperation
    r"""The operation to carry out (see enumerated values)"""
    label: NotRequired[str]
    r"""To create or delete a relationship, the label describing how the records are related

    """
    properties: NotRequired[Dict[str, Any]]
    r"""To create a record or set its properties, the properties related to the record type. Keyed by the property name, this always includes the `datatype` and `value`. When setting properties, send a partial object representing only the values to update. Valid datatypes are `integer`, `number`, `boolean`, `string`, `date-time`, `map`, `list`, `array`, and `set`."""
    record_id: NotRequired[str]
    r"""To create or delete a relationship, the actual ID or temporaryRecordId of the source record."""
    target_id: NotRequired[str]
    r"""To create or delete a relationship, the ID of its target record. If creating, the actual ID or temporaryRecordId. If deleting, the actual ID.

    """
    temporary_record_id: NotRequired[str]
    r"""To create a record, a temporary ID that is replaced at time of processing. You can subsequently use this ID within the same request to create relationships between created records."""
    type: NotRequired[str]
    r"""To create a record, the type of record to create

    """


class Edit(BaseModel):
    operation: EditOperation
    r"""The operation to carry out (see enumerated values)"""

    label: Optional[str] = None
    r"""To create or delete a relationship, the label describing how the records are related

    """

    properties: Optional[Dict[str, Any]] = None
    r"""To create a record or set its properties, the properties related to the record type. Keyed by the property name, this always includes the `datatype` and `value`. When setting properties, send a partial object representing only the values to update. Valid datatypes are `integer`, `number`, `boolean`, `string`, `date-time`, `map`, `list`, `array`, and `set`."""

    record_id: Annotated[Optional[str], pydantic.Field(alias="recordId")] = None
    r"""To create or delete a relationship, the actual ID or temporaryRecordId of the source record."""

    target_id: Annotated[Optional[str], pydantic.Field(alias="targetId")] = None
    r"""To create or delete a relationship, the ID of its target record. If creating, the actual ID or temporaryRecordId. If deleting, the actual ID.

    """

    temporary_record_id: Annotated[
        Optional[str], pydantic.Field(alias="temporaryRecordId")
    ] = None
    r"""To create a record, a temporary ID that is replaced at time of processing. You can subsequently use this ID within the same request to create relationships between created records."""

    type: Optional[str] = None
    r"""To create a record, the type of record to create

    """

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            ["label", "properties", "recordId", "targetId", "temporaryRecordId", "type"]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
