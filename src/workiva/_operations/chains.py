"""Chains API â€” chains namespace.

Auto-generated by codegen. Do not edit manually.
"""

from __future__ import annotations

from typing import Any, Literal, Optional

import httpx

from workiva._constants import _API
from workiva._operations._base import BaseNamespace
from workiva._pagination import (
    extract_chains_cursor,
    paginate_all,
    paginate_all_async,
)
from workiva.models.chains import (
    ActivityResponse,
    ChainResponse,
    ChainRunPageResponse,
    ChainRunResponse,
    ChainRunWithNodesResponse,
    ChainsEnvironmentResponse,
    ChainsResponse,
    CommandsResponse,
    EnvironmentResponse,
    EnvironmentsResponse,
    LoginActivityResponse,
    MappingRuleUploadResult,
    PermissionsResponse,
    UserGroupResponse,
    UserGroupsResponse,
    UserResponse,
    UsersResponse,
    WorkspaceResponse,
    WorkspacesResponse,
)

__all__ = ["Chains"]


class Chains(BaseNamespace):
    """Chains operations."""

    _api: _API = _API.CHAINS

    def export_chain(
        self,
        *,
        chain_id: str,
        wk_target_workspace: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Export a chain

        Returns an encoded string to be stored in a file with a `.chain`
        extension. The `.chain` file can then be used later during an import
        chain call.
        > **Note:** The exported chain will automatically expire and become
        unusable after 14 days. This has no bearing on the original chain or any
        imported copies.

        Args:
            chain_id: The ID of the Chain.
            wk_target_workspace: The `wk-target-workspace` header is only required for requests made by a service provider application. This does not apply to the majority of Workiva Chains API users. This header specifies the ID of the target workspace on which the service provider application wishes to take action. This workspace must be managed by the service provider.

            timeout: Override the default request timeout (seconds).

        Raises:
            WorkivaAPIError: On API errors (400, 401, 404).
        """
        return self._client.request(
            "POST",
            self._api,
            "/v1/chains/{chain_id}/export",
            path_params={
                "chain_id": chain_id,
            },
            headers={
                "wk-target-workspace": wk_target_workspace,
            },
            timeout=timeout,
        )

    async def export_chain_async(
        self,
        *,
        chain_id: str,
        wk_target_workspace: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Export a chain (async)

        Returns an encoded string to be stored in a file with a `.chain`
        extension. The `.chain` file can then be used later during an import
        chain call.
        > **Note:** The exported chain will automatically expire and become
        unusable after 14 days. This has no bearing on the original chain or any
        imported copies.

        Args:
            chain_id: The ID of the Chain.
            wk_target_workspace: The `wk-target-workspace` header is only required for requests made by a service provider application. This does not apply to the majority of Workiva Chains API users. This header specifies the ID of the target workspace on which the service provider application wishes to take action. This workspace must be managed by the service provider.

            timeout: Override the default request timeout (seconds).

        Raises:
            WorkivaAPIError: On API errors (400, 401, 404).
        """
        return await self._client.request_async(
            "POST",
            self._api,
            "/v1/chains/{chain_id}/export",
            path_params={
                "chain_id": chain_id,
            },
            headers={
                "wk-target-workspace": wk_target_workspace,
            },
            timeout=timeout,
        )

    def publish_chain(
        self,
        *,
        chain_id: str,
        body: Optional[dict[str, Any]] = None,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Publish a chain

        Publishes the chain specified by the chain_id.

        Args:
            chain_id: The ID of the Chain.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (400, 401, 403).
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/chains/{chain_id}/publish",
            path_params={
                "chain_id": chain_id,
            },
            json_body=body,
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    async def publish_chain_async(
        self,
        *,
        chain_id: str,
        body: Optional[dict[str, Any]] = None,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Publish a chain (async)

        Publishes the chain specified by the chain_id.

        Args:
            chain_id: The ID of the Chain.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (400, 401, 403).
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/chains/{chain_id}/publish",
            path_params={
                "chain_id": chain_id,
            },
            json_body=body,
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    def publish(
        self,
        *,
        mapping_group_guid: str,
        timeout: Optional[float] = None,
    ) -> dict[str, Any]:
        """Publish draft version of a mapping group

        Publish a draft version of a mapping group, specified by the mapping
        group GUID.

        Args:
            mapping_group_guid: The GUID of the Mapping Group.
            timeout: Override the default request timeout (seconds).

        Returns:
            dict[str, Any]

        Raises:
            WorkivaAPIError: On API errors (400, 401).
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/publish",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            timeout=timeout,
        )
        return dict[str, Any].model_validate(response.json())

    async def publish_async(
        self,
        *,
        mapping_group_guid: str,
        timeout: Optional[float] = None,
    ) -> dict[str, Any]:
        """Publish draft version of a mapping group (async)

        Publish a draft version of a mapping group, specified by the mapping
        group GUID.

        Args:
            mapping_group_guid: The GUID of the Mapping Group.
            timeout: Override the default request timeout (seconds).

        Returns:
            dict[str, Any]

        Raises:
            WorkivaAPIError: On API errors (400, 401).
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/publish",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            timeout=timeout,
        )
        return dict[str, Any].model_validate(response.json())

    def update_rules(
        self,
        *,
        mapping_group_guid: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> MappingRuleUploadResult:
        """Update mapping group rules

        Update a mapping group ruleset, specified by the mapping group GUID.

        Args:
            mapping_group_guid: The GUID of the Mapping Group.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            MappingRuleUploadResult

        Raises:
            WorkivaAPIError: On API errors (400, 401).

        Note:
            This operation uses multipart/form-data. Pass ``body`` as a dict
            mapping field names to values. For file fields use a tuple::

                body = {
                    "file": ("filename.csv", open("filename.csv", "rb")),
                    "field": "value",
                }
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/update_rules",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            files=body,
            timeout=timeout,
        )
        return MappingRuleUploadResult.model_validate(response.json())

    async def update_rules_async(
        self,
        *,
        mapping_group_guid: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> MappingRuleUploadResult:
        """Update mapping group rules (async)

        Update a mapping group ruleset, specified by the mapping group GUID.

        Args:
            mapping_group_guid: The GUID of the Mapping Group.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            MappingRuleUploadResult

        Raises:
            WorkivaAPIError: On API errors (400, 401).

        Note:
            This operation uses multipart/form-data. Pass ``body`` as a dict
            mapping field names to values. For file fields use a tuple::

                body = {
                    "file": ("filename.csv", open("filename.csv", "rb")),
                    "field": "value",
                }
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/update_rules",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            files=body,
            timeout=timeout,
        )
        return MappingRuleUploadResult.model_validate(response.json())

    def import_chain(
        self,
        *,
        environment_id: str,
        body: dict[str, Any],
        wk_target_workspace: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Import a chain

        Takes a .chain file and imports it into the provided environment.
        Returns chain metadata for the imported chain.
        > **Note:** .chain export files will automatically expire and become
        unusable after 14 days.  Expired .chain files remain on the exported
        system until removed manually.

        Args:
            environment_id: The ID of the Environment.
            wk_target_workspace: The `wk-target-workspace` header is only required for requests made by a service provider application. This does not apply to the majority of Workiva Chains API users. This header specifies the ID of the target workspace on which the service provider application wishes to take action. This workspace must be managed by the service provider.

            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (400, 401, 403).

        Note:
            This operation uses multipart/form-data. Pass ``body`` as a dict
            mapping field names to values. For file fields use a tuple::

                body = {
                    "file": ("filename.csv", open("filename.csv", "rb")),
                    "field": "value",
                }
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/environments/{environment_id}/import_chain",
            path_params={
                "environment_id": environment_id,
            },
            files=body,
            headers={
                "wk-target-workspace": wk_target_workspace,
            },
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    async def import_chain_async(
        self,
        *,
        environment_id: str,
        body: dict[str, Any],
        wk_target_workspace: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Import a chain (async)

        Takes a .chain file and imports it into the provided environment.
        Returns chain metadata for the imported chain.
        > **Note:** .chain export files will automatically expire and become
        unusable after 14 days.  Expired .chain files remain on the exported
        system until removed manually.

        Args:
            environment_id: The ID of the Environment.
            wk_target_workspace: The `wk-target-workspace` header is only required for requests made by a service provider application. This does not apply to the majority of Workiva Chains API users. This header specifies the ID of the target workspace on which the service provider application wishes to take action. This workspace must be managed by the service provider.

            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (400, 401, 403).

        Note:
            This operation uses multipart/form-data. Pass ``body`` as a dict
            mapping field names to values. For file fields use a tuple::

                body = {
                    "file": ("filename.csv", open("filename.csv", "rb")),
                    "field": "value",
                }
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/environments/{environment_id}/import_chain",
            path_params={
                "environment_id": environment_id,
            },
            files=body,
            headers={
                "wk-target-workspace": wk_target_workspace,
            },
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    def chain_filter_search(
        self,
        *,
        environment_id: Optional[list[str]] = None,
        chain_id: Optional[list[str]] = None,
        start_date: Optional[str] = None,
        end_date: Optional[str] = None,
        state: Optional[
            Literal["running", "succeeded", "failed", "paused", "warned", "completed"]
        ] = None,
        sort: Optional[Literal["desc", "asc"]] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Search previous chain runs

        Returns a list of all previous chain runs that match the provided
        criteria. The environment IDs specify which environments should be
        searched for the chain run. The chain IDs specify which specific chains
        should be returned. The state specified returns only those chains that
        are in that state (e.g. "completed"). If a cursor is provided, the
        corresponding page will be returned.

        Args:
            environment_id: The ID(s) of the Environments to search. Not required for superusers or company admins.
            chain_id: The ID(s) of the Chains to return.
            start_date: Start Date (Unix timestamp).
            end_date: End Date (Unix timestamp).
            state: The state of the Chain Run.
            sort: Sort direction (by date).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/execute/chain_run/search",
                query_params={
                    "environment_id": environment_id,
                    "chain_id": chain_id,
                    "start_date": start_date,
                    "end_date": end_date,
                    "state": state,
                    "sort": sort,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    async def chain_filter_search_async(
        self,
        *,
        environment_id: Optional[list[str]] = None,
        chain_id: Optional[list[str]] = None,
        start_date: Optional[str] = None,
        end_date: Optional[str] = None,
        state: Optional[
            Literal["running", "succeeded", "failed", "paused", "warned", "completed"]
        ] = None,
        sort: Optional[Literal["desc", "asc"]] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Search previous chain runs (async)

        Returns a list of all previous chain runs that match the provided
        criteria. The environment IDs specify which environments should be
        searched for the chain run. The chain IDs specify which specific chains
        should be returned. The state specified returns only those chains that
        are in that state (e.g. "completed"). If a cursor is provided, the
        corresponding page will be returned.

        Args:
            environment_id: The ID(s) of the Environments to search. Not required for superusers or company admins.
            chain_id: The ID(s) of the Chains to return.
            start_date: Start Date (Unix timestamp).
            end_date: End Date (Unix timestamp).
            state: The state of the Chain Run.
            sort: Sort direction (by date).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/execute/chain_run/search",
                query_params={
                    "environment_id": environment_id,
                    "chain_id": chain_id,
                    "start_date": start_date,
                    "end_date": end_date,
                    "state": state,
                    "sort": sort,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    def get_chain_run(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Return chain run properties

        Returns properties for a chain run with the provided ID, or a 404 if no
        such chain run is found.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    async def get_chain_run_async(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Return chain run properties (async)

        Returns properties for a chain run with the provided ID, or a 404 if no
        such chain run is found.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    def get_chain_run_nodes(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunWithNodesResponse:
        """Return chain run properties with nodes

        Returns properties and nodes for a chain run with the provided ID, or a
        404 if no such chain run is found.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunWithNodesResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}/nodes",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunWithNodesResponse.model_validate(response.json())

    async def get_chain_run_nodes_async(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunWithNodesResponse:
        """Return chain run properties with nodes (async)

        Returns properties and nodes for a chain run with the provided ID, or a
        404 if no such chain run is found.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunWithNodesResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}/nodes",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunWithNodesResponse.model_validate(response.json())

    def stop_chain(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Stop a running chain

        Stop a chain run with the specified ID.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}/stop",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    async def stop_chain_async(
        self,
        *,
        chain_run_id: str,
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Stop a running chain (async)

        Stop a chain run with the specified ID.

        Args:
            chain_run_id: The ID of the Chain Run.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/execute/chain_run/{chain_run_id}/stop",
            path_params={
                "chain_run_id": chain_run_id,
            },
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    def chain_inputs_search(
        self,
        *,
        environment_id: str,
        search_text: str,
        limit: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Search previous chain runs for an input value

        Returns a list of all chain runs whose inputs match the provided search
        criteria. The search text is fuzzy matched; it matches any input value
        that contains the provided string. For example, a command that takes a
        File ID of "my_file_id" as an input can be searched using "my_file_id"
        as the search text input. The environment ID specifies which environment
        should be searched for chain run input parameters. The limit and cursor
        help determine the page size and which page to return.

        Args:
            environment_id: The ID of the environment to search for chains run inputs.
            search_text: The fuzzy input value to search for.
            limit: Limit number of chainExecutors returned (Max 50).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/execute/environment/{environment_id}/chain/inputs_search",
                path_params={
                    "environment_id": environment_id,
                },
                query_params={
                    "search_text": search_text,
                    "limit": limit,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    async def chain_inputs_search_async(
        self,
        *,
        environment_id: str,
        search_text: str,
        limit: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Search previous chain runs for an input value (async)

        Returns a list of all chain runs whose inputs match the provided search
        criteria. The search text is fuzzy matched; it matches any input value
        that contains the provided string. For example, a command that takes a
        File ID of "my_file_id" as an input can be searched using "my_file_id"
        as the search text input. The environment ID specifies which environment
        should be searched for chain run input parameters. The limit and cursor
        help determine the page size and which page to return.

        Args:
            environment_id: The ID of the environment to search for chains run inputs.
            search_text: The fuzzy input value to search for.
            limit: Limit number of chainExecutors returned (Max 50).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/execute/environment/{environment_id}/chain/inputs_search",
                path_params={
                    "environment_id": environment_id,
                },
                query_params={
                    "search_text": search_text,
                    "limit": limit,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    def chain_run_history(
        self,
        *,
        environment_id: str,
        chain_id: str,
        limit: Optional[str] = None,
        start_date: Optional[str] = None,
        end_date: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Return run history for a chain

        Retrieves a list of run history for a chain.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            limit: Limit number of chainRuns returned (max 50).
            start_date: Start Date (Unix timestamp).
            end_date: End Date (Unix timestamp).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/execute/environment/{environment_id}/chain/{chain_id}/history",
                path_params={
                    "environment_id": environment_id,
                    "chain_id": chain_id,
                },
                query_params={
                    "limit": limit,
                    "start_date": start_date,
                    "end_date": end_date,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    async def chain_run_history_async(
        self,
        *,
        environment_id: str,
        chain_id: str,
        limit: Optional[str] = None,
        start_date: Optional[str] = None,
        end_date: Optional[str] = None,
        timeout: Optional[float] = None,
    ) -> ChainRunPageResponse:
        """Return run history for a chain (async)

        Retrieves a list of run history for a chain.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            limit: Limit number of chainRuns returned (max 50).
            start_date: Start Date (Unix timestamp).
            end_date: End Date (Unix timestamp).
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunPageResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/execute/environment/{environment_id}/chain/{chain_id}/history",
                path_params={
                    "environment_id": environment_id,
                    "chain_id": chain_id,
                },
                query_params={
                    "limit": limit,
                    "start_date": start_date,
                    "end_date": end_date,
                    "cursor": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data.chainExecutors")
        return ChainRunPageResponse.model_validate(_body)

    def start_chain(
        self,
        *,
        environment_id: str,
        chain_id: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Execute a chain

        Starts a chain run for a specific chain in an environment, specified by
        the Chain and Environment ID.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """
        response = self._client.request(
            "POST",
            self._api,
            "/v1/execute/environment/{environment_id}/chain/{chain_id}/start",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            json_body=body,
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    async def start_chain_async(
        self,
        *,
        environment_id: str,
        chain_id: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> ChainRunResponse:
        """Execute a chain (async)

        Starts a chain run for a specific chain in an environment, specified by
        the Chain and Environment ID.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            body: Request body.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainRunResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404, 422).
        """
        response = await self._client.request_async(
            "POST",
            self._api,
            "/v1/execute/environment/{environment_id}/chain/{chain_id}/start",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            json_body=body,
            timeout=timeout,
        )
        return ChainRunResponse.model_validate(response.json())

    def search_chains(
        self,
        *,
        workspace_id: Optional[int] = None,
        external_workspace_id: Optional[str] = None,
        environment_id: Optional[int] = None,
        name: Optional[str] = None,
        parallel_execution_enabled: Optional[bool] = None,
        timeout: Optional[float] = None,
    ) -> ChainsResponse:
        """Search chains

        Returns a list of all chains that match the provided criteria. The name
        of the change is fuzzy matched; it matches any chain name that contains
        the provided string. The workspace, external workspace, and environment
        IDs all help filter down the results to a particular setting. Setting
        the parallel execution enabled flag will only return chains whose
        commands run in parallel.

        Args:
            workspace_id: The ID of the workspace to search for chains.
            external_workspace_id: The ID of the associated Workiva workspace to search for chains.
            environment_id: The ID of the environment to search for chains.
            name: The fuzzy name of the chain to search for.
            parallel_execution_enabled: Whether or not to return only chains that run in parallel or serially.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/chains/search",
            query_params={
                "workspace_id": workspace_id,
                "external_workspace_id": external_workspace_id,
                "environment_id": environment_id,
                "name": name,
                "parallel_execution_enabled": parallel_execution_enabled,
            },
            timeout=timeout,
        )
        return ChainsResponse.model_validate(response.json())

    async def search_chains_async(
        self,
        *,
        workspace_id: Optional[int] = None,
        external_workspace_id: Optional[str] = None,
        environment_id: Optional[int] = None,
        name: Optional[str] = None,
        parallel_execution_enabled: Optional[bool] = None,
        timeout: Optional[float] = None,
    ) -> ChainsResponse:
        """Search chains (async)

        Returns a list of all chains that match the provided criteria. The name
        of the change is fuzzy matched; it matches any chain name that contains
        the provided string. The workspace, external workspace, and environment
        IDs all help filter down the results to a particular setting. Setting
        the parallel execution enabled flag will only return chains whose
        commands run in parallel.

        Args:
            workspace_id: The ID of the workspace to search for chains.
            external_workspace_id: The ID of the associated Workiva workspace to search for chains.
            environment_id: The ID of the environment to search for chains.
            name: The fuzzy name of the chain to search for.
            parallel_execution_enabled: Whether or not to return only chains that run in parallel or serially.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/chains/search",
            query_params={
                "workspace_id": workspace_id,
                "external_workspace_id": external_workspace_id,
                "environment_id": environment_id,
                "name": name,
                "parallel_execution_enabled": parallel_execution_enabled,
            },
            timeout=timeout,
        )
        return ChainsResponse.model_validate(response.json())

    def get_chains(
        self,
        *,
        environment_id: str,
        timeout: Optional[float] = None,
    ) -> ChainsEnvironmentResponse:
        """Return a list of chains for an environment

        Retrieves a list of chains for an environment.

        Args:
            environment_id: The ID of the Environment.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainsEnvironmentResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain",
            path_params={
                "environment_id": environment_id,
            },
            timeout=timeout,
        )
        return ChainsEnvironmentResponse.model_validate(response.json())

    async def get_chains_async(
        self,
        *,
        environment_id: str,
        timeout: Optional[float] = None,
    ) -> ChainsEnvironmentResponse:
        """Return a list of chains for an environment (async)

        Retrieves a list of chains for an environment.

        Args:
            environment_id: The ID of the Environment.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainsEnvironmentResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain",
            path_params={
                "environment_id": environment_id,
            },
            timeout=timeout,
        )
        return ChainsEnvironmentResponse.model_validate(response.json())

    def get_chain(
        self,
        *,
        environment_id: str,
        chain_id: str,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Return chain properties

        Returns properties for a chain with the provided ID, or a 404 if no such
        chain is found.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain/{chain_id}",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    async def get_chain_async(
        self,
        *,
        environment_id: str,
        chain_id: str,
        timeout: Optional[float] = None,
    ) -> ChainResponse:
        """Return chain properties (async)

        Returns properties for a chain with the provided ID, or a 404 if no such
        chain is found.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            timeout: Override the default request timeout (seconds).

        Returns:
            ChainResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain/{chain_id}",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            timeout=timeout,
        )
        return ChainResponse.model_validate(response.json())

    def get_commands(
        self,
        *,
        environment_id: str,
        chain_id: str,
        timeout: Optional[float] = None,
    ) -> CommandsResponse:
        """Return command properties

        Returns properties for a command with the provided ID, or a 404 if no
        such command is found.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            timeout: Override the default request timeout (seconds).

        Returns:
            CommandsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain/{chain_id}/command",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            timeout=timeout,
        )
        return CommandsResponse.model_validate(response.json())

    async def get_commands_async(
        self,
        *,
        environment_id: str,
        chain_id: str,
        timeout: Optional[float] = None,
    ) -> CommandsResponse:
        """Return command properties (async)

        Returns properties for a command with the provided ID, or a 404 if no
        such command is found.

        Args:
            environment_id: The ID of the Environment.
            chain_id: The ID of the Chain.
            timeout: Override the default request timeout (seconds).

        Returns:
            CommandsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/environment/{environment_id}/chain/{chain_id}/command",
            path_params={
                "environment_id": environment_id,
                "chain_id": chain_id,
            },
            timeout=timeout,
        )
        return CommandsResponse.model_validate(response.json())

    def get_workspaces(
        self,
        *,
        timeout: Optional[float] = None,
    ) -> WorkspacesResponse:
        """Return a list of workspaces

        Retrieves a list of workspaces for a company.

        Returns:
            WorkspacesResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/workspace",
            timeout=timeout,
        )
        return WorkspacesResponse.model_validate(response.json())

    async def get_workspaces_async(
        self,
        *,
        timeout: Optional[float] = None,
    ) -> WorkspacesResponse:
        """Return a list of workspaces (async)

        Retrieves a list of workspaces for a company.

        Returns:
            WorkspacesResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/workspace",
            timeout=timeout,
        )
        return WorkspacesResponse.model_validate(response.json())

    def get_workspace(
        self,
        *,
        workspace_id: str,
        timeout: Optional[float] = None,
    ) -> WorkspaceResponse:
        """Return workspace properties

        Returns properties for a workspace with the provided ID, or a 404 if no
        such workspace is found.

        Args:
            workspace_id: The ID of the Workspace.
            timeout: Override the default request timeout (seconds).

        Returns:
            WorkspaceResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}",
            path_params={
                "workspace_id": workspace_id,
            },
            timeout=timeout,
        )
        return WorkspaceResponse.model_validate(response.json())

    async def get_workspace_async(
        self,
        *,
        workspace_id: str,
        timeout: Optional[float] = None,
    ) -> WorkspaceResponse:
        """Return workspace properties (async)

        Returns properties for a workspace with the provided ID, or a 404 if no
        such workspace is found.

        Args:
            workspace_id: The ID of the Workspace.
            timeout: Override the default request timeout (seconds).

        Returns:
            WorkspaceResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}",
            path_params={
                "workspace_id": workspace_id,
            },
            timeout=timeout,
        )
        return WorkspaceResponse.model_validate(response.json())

    def get_environments(
        self,
        *,
        workspace_id: str,
        timeout: Optional[float] = None,
    ) -> EnvironmentsResponse:
        """Return a list of environments for a workspace

        Return a list of environments for a workspace.

        Args:
            workspace_id: The ID of the Workspace.
            timeout: Override the default request timeout (seconds).

        Returns:
            EnvironmentsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}/environment",
            path_params={
                "workspace_id": workspace_id,
            },
            timeout=timeout,
        )
        return EnvironmentsResponse.model_validate(response.json())

    async def get_environments_async(
        self,
        *,
        workspace_id: str,
        timeout: Optional[float] = None,
    ) -> EnvironmentsResponse:
        """Return a list of environments for a workspace (async)

        Return a list of environments for a workspace.

        Args:
            workspace_id: The ID of the Workspace.
            timeout: Override the default request timeout (seconds).

        Returns:
            EnvironmentsResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}/environment",
            path_params={
                "workspace_id": workspace_id,
            },
            timeout=timeout,
        )
        return EnvironmentsResponse.model_validate(response.json())

    def get_environment(
        self,
        *,
        workspace_id: str,
        environment_id: str,
        timeout: Optional[float] = None,
    ) -> EnvironmentResponse:
        """Return environment properties

        Return properties for an environment in a workspace with the provided
        IDs, or a 404 if no such workspace is found.

        Args:
            workspace_id: The ID of the Workspace.
            environment_id: The ID of the Environment.
            timeout: Override the default request timeout (seconds).

        Returns:
            EnvironmentResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}/environment/{environment_id}",
            path_params={
                "workspace_id": workspace_id,
                "environment_id": environment_id,
            },
            timeout=timeout,
        )
        return EnvironmentResponse.model_validate(response.json())

    async def get_environment_async(
        self,
        *,
        workspace_id: str,
        environment_id: str,
        timeout: Optional[float] = None,
    ) -> EnvironmentResponse:
        """Return environment properties (async)

        Return properties for an environment in a workspace with the provided
        IDs, or a 404 if no such workspace is found.

        Args:
            workspace_id: The ID of the Workspace.
            environment_id: The ID of the Environment.
            timeout: Override the default request timeout (seconds).

        Returns:
            EnvironmentResponse

        Raises:
            WorkivaAPIError: On API errors (401, 404).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/metadata/workspace/{workspace_id}/environment/{environment_id}",
            path_params={
                "workspace_id": workspace_id,
                "environment_id": environment_id,
            },
            timeout=timeout,
        )
        return EnvironmentResponse.model_validate(response.json())

    def get_authorizations_activity(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> ActivityResponse:
        """Return a list of authorization activities

        Returns a list of recent authorization activity events.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            ActivityResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/authorizations_activity",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return ActivityResponse.model_validate(_body)

    async def get_authorizations_activity_async(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> ActivityResponse:
        """Return a list of authorization activities (async)

        Returns a list of recent authorization activity events.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            ActivityResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/authorizations_activity",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return ActivityResponse.model_validate(_body)

    def get_login_activity(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> LoginActivityResponse:
        """Return a list of login activity events

        Returns a list of recent login activity events.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            LoginActivityResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/login_activity",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return LoginActivityResponse.model_validate(_body)

    async def get_login_activity_async(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> LoginActivityResponse:
        """Return a list of login activity events (async)

        Returns a list of recent login activity events.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            LoginActivityResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/login_activity",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return LoginActivityResponse.model_validate(_body)

    def get_permissions(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> PermissionsResponse:
        """Return a list of all permissions for a company

        Returns a list of all permissions for a company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            PermissionsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/permissions",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return PermissionsResponse.model_validate(_body)

    async def get_permissions_async(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> PermissionsResponse:
        """Return a list of all permissions for a company (async)

        Returns a list of all permissions for a company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            PermissionsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/permissions",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return PermissionsResponse.model_validate(_body)

    def get_user_groups(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UserGroupsResponse:
        """Return a list of all user groups

        Returns a list of all user groups in a company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/user_groups",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return UserGroupsResponse.model_validate(_body)

    async def get_user_groups_async(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UserGroupsResponse:
        """Return a list of all user groups (async)

        Returns a list of all user groups in a company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/user_groups",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return UserGroupsResponse.model_validate(_body)

    def get_user_group(
        self,
        *,
        user_group_id: str,
        timeout: Optional[float] = None,
    ) -> UserGroupResponse:
        """Return user group properties

        Return properties for a user group with the provided ID, or a 404 if no
        such user group is found.

        Args:
            user_group_id: The ID of the User Group.
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/security/user_groups/{userGroupId}",
            path_params={
                "userGroupId": user_group_id,
            },
            timeout=timeout,
        )
        return UserGroupResponse.model_validate(response.json())

    async def get_user_group_async(
        self,
        *,
        user_group_id: str,
        timeout: Optional[float] = None,
    ) -> UserGroupResponse:
        """Return user group properties (async)

        Return properties for a user group with the provided ID, or a 404 if no
        such user group is found.

        Args:
            user_group_id: The ID of the User Group.
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/security/user_groups/{userGroupId}",
            path_params={
                "userGroupId": user_group_id,
            },
            timeout=timeout,
        )
        return UserGroupResponse.model_validate(response.json())

    def get_user_group_permissions(
        self,
        *,
        user_group_id: str,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> PermissionsResponse:
        """Return a list of permissions for a user group

        Returns properties for a user group with the provided ID, or a 404 if no
        such user group is found.

        Args:
            user_group_id: The ID of the User Group.
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            PermissionsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/user_groups/{userGroupId}/permissions",
                path_params={
                    "userGroupId": user_group_id,
                },
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return PermissionsResponse.model_validate(_body)

    async def get_user_group_permissions_async(
        self,
        *,
        user_group_id: str,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> PermissionsResponse:
        """Return a list of permissions for a user group (async)

        Returns properties for a user group with the provided ID, or a 404 if no
        such user group is found.

        Args:
            user_group_id: The ID of the User Group.
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            PermissionsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/user_groups/{userGroupId}/permissions",
                path_params={
                    "userGroupId": user_group_id,
                },
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return PermissionsResponse.model_validate(_body)

    def get_users(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UsersResponse:
        """Return a list of users

        Returns a list of all users in a particular company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UsersResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/users",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return UsersResponse.model_validate(_body)

    async def get_users_async(
        self,
        *,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UsersResponse:
        """Return a list of users (async)

        Returns a list of all users in a particular company.

        Args:
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UsersResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/users",
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return UsersResponse.model_validate(_body)

    def get_user(
        self,
        *,
        user_id: str,
        timeout: Optional[float] = None,
    ) -> UserResponse:
        """Return user properties

        Returns properties for a user with the provided ID, or a 404 if no such
        user is found.

        Args:
            user_id: The ID of the User.
            timeout: Override the default request timeout (seconds).

        Returns:
            UserResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = self._client.request(
            "GET",
            self._api,
            "/v1/security/users/{userId}",
            path_params={
                "userId": user_id,
            },
            timeout=timeout,
        )
        return UserResponse.model_validate(response.json())

    async def get_user_async(
        self,
        *,
        user_id: str,
        timeout: Optional[float] = None,
    ) -> UserResponse:
        """Return user properties (async)

        Returns properties for a user with the provided ID, or a 404 if no such
        user is found.

        Args:
            user_id: The ID of the User.
            timeout: Override the default request timeout (seconds).

        Returns:
            UserResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """
        response = await self._client.request_async(
            "GET",
            self._api,
            "/v1/security/users/{userId}",
            path_params={
                "userId": user_id,
            },
            timeout=timeout,
        )
        return UserResponse.model_validate(response.json())

    def get_user_user_groups(
        self,
        *,
        user_id: str,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UserGroupsResponse:
        """Return a list of user groups

        Returns a list of all groups that a user is a part of in a particular
        company.

        Args:
            user_id: The ID of the User.
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        def _fetch(_cursor: str | None) -> httpx.Response:
            return self._client.request(
                "GET",
                self._api,
                "/v1/security/users/{userId}/groups",
                path_params={
                    "userId": user_id,
                },
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = paginate_all(_fetch, extract_chains_cursor, "data")
        return UserGroupsResponse.model_validate(_body)

    async def get_user_user_groups_async(
        self,
        *,
        user_id: str,
        page_size: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> UserGroupsResponse:
        """Return a list of user groups (async)

        Returns a list of all groups that a user is a part of in a particular
        company.

        Args:
            user_id: The ID of the User.
            page_size: Limit number of results returned (Max 100).
            timeout: Override the default request timeout (seconds).

        Returns:
            UserGroupsResponse

        Raises:
            WorkivaAPIError: On API errors (401).
        """

        async def _fetch(_cursor: str | None) -> httpx.Response:
            return await self._client.request_async(
                "GET",
                self._api,
                "/v1/security/users/{userId}/groups",
                path_params={
                    "userId": user_id,
                },
                query_params={
                    "pageSize": page_size,
                    "page": _cursor,
                },
                timeout=timeout,
            )

        _body = await paginate_all_async(_fetch, extract_chains_cursor, "data")
        return UserGroupsResponse.model_validate(_body)
