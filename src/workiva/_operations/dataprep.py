"""Chains API â€” dataprep namespace.

Auto-generated by codegen. Do not edit manually.
"""

from __future__ import annotations

from typing import Any, Optional

import httpx

from workiva._constants import _API
from workiva._operations._base import BaseNamespace


class Dataprep(BaseNamespace):
    """Dataprep operations."""

    _api: _API = _API.CHAINS

    def publish(
        self,
        *,
        mapping_group_guid: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Publish draft version of a mapping group

        Publish a draft version of a mapping group, specified by the mapping
        group GUID.
        """
        return self._client.request(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/publish",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            timeout=timeout,
        )

    async def publish_async(
        self,
        *,
        mapping_group_guid: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Publish draft version of a mapping group (async)

        Publish a draft version of a mapping group, specified by the mapping
        group GUID.
        """
        return await self._client.request_async(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/publish",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            timeout=timeout,
        )

    def update_rules(
        self,
        *,
        mapping_group_guid: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Update mapping group rules

        Update a mapping group ruleset, specified by the mapping group GUID.
        """
        return self._client.request(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/update_rules",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            files=body,
            timeout=timeout,
        )

    async def update_rules_async(
        self,
        *,
        mapping_group_guid: str,
        body: dict[str, Any],
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Update mapping group rules (async)

        Update a mapping group ruleset, specified by the mapping group GUID.
        """
        return await self._client.request_async(
            "POST",
            self._api,
            "/v1/dataprep/mapping_groups/{mappingGroupGuid}/update_rules",
            path_params={
                "mappingGroupGuid": mapping_group_guid,
            },
            files=body,
            timeout=timeout,
        )
