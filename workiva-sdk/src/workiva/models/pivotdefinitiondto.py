"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .pivotviewdefinitioncolumndto import (
    PivotViewDefinitionColumnDto,
    PivotViewDefinitionColumnDtoTypedDict,
)
from .pivotviewdefinitionfilterdto import (
    PivotViewDefinitionFilterDto,
    PivotViewDefinitionFilterDtoTypedDict,
)
from .pivotviewdefinitionrowdto import (
    PivotViewDefinitionRowDto,
    PivotViewDefinitionRowDtoTypedDict,
)
from .pivotviewdefinitionvaluedto import (
    PivotViewDefinitionValueDto,
    PivotViewDefinitionValueDtoTypedDict,
)
from enum import Enum
import pydantic
from pydantic import model_serializer
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva.types import BaseModel, UNSET_SENTINEL


class GrandTotalEnabled(str, Enum):
    r"""The level to which Grand Totals are enabled.  It is defaulted to DISABLED."""

    ENABLED = "ENABLED"
    ROW = "ROW"
    COLUMN = "COLUMN"
    DISABLED = "DISABLED"


class PivotViewType(str, Enum):
    r"""The type of pivot view. Options are currently Classic and Compact."""

    CLASSIC = "CLASSIC"
    COMPACT = "COMPACT"
    FLAT = "FLAT"


class SubtotalEnabled(str, Enum):
    r"""The level to which Subtotals are enabled.  It is defaulted to DISABLED."""

    ENABLED = "ENABLED"
    ROW = "ROW"
    COLUMN = "COLUMN"
    DISABLED = "DISABLED"


class PivotDefinitionDtoTypedDict(TypedDict):
    columns: NotRequired[List[PivotViewDefinitionColumnDtoTypedDict]]
    r"""The colmnnns associated with the pivot view"""
    decimal_places: NotRequired[int]
    r"""Numeric data values are rounded to the number of decimal places.  The default number to round to and show is 2 decimal places, and the maximum number is capped at 16."""
    filters: NotRequired[List[PivotViewDefinitionFilterDtoTypedDict]]
    r"""The filters associated with the pivot view"""
    grand_total_enabled: NotRequired[GrandTotalEnabled]
    r"""The level to which Grand Totals are enabled.  It is defaulted to DISABLED."""
    id: NotRequired[str]
    r"""The pivot view's definition's id"""
    multiple_headers: NotRequired[bool]
    r"""Denotes whether a pivot is created in multi-line header mode. Default is false."""
    pivot_view_type: NotRequired[PivotViewType]
    r"""The type of pivot view. Options are currently Classic and Compact."""
    rows: NotRequired[List[PivotViewDefinitionRowDtoTypedDict]]
    r"""The rows associated with the pivot view"""
    sort_columns: NotRequired[List[str]]
    r"""Columns with which to sort the crosstab query"""
    subtotal_enabled: NotRequired[SubtotalEnabled]
    r"""The level to which Subtotals are enabled.  It is defaulted to DISABLED."""
    values: NotRequired[List[PivotViewDefinitionValueDtoTypedDict]]
    r"""The values associated with the pivot view"""


class PivotDefinitionDto(BaseModel):
    columns: Optional[List[PivotViewDefinitionColumnDto]] = None
    r"""The colmnnns associated with the pivot view"""

    decimal_places: Annotated[Optional[int], pydantic.Field(alias="decimalPlaces")] = (
        None
    )
    r"""Numeric data values are rounded to the number of decimal places.  The default number to round to and show is 2 decimal places, and the maximum number is capped at 16."""

    filters: Optional[List[PivotViewDefinitionFilterDto]] = None
    r"""The filters associated with the pivot view"""

    grand_total_enabled: Annotated[
        Optional[GrandTotalEnabled], pydantic.Field(alias="grandTotalEnabled")
    ] = None
    r"""The level to which Grand Totals are enabled.  It is defaulted to DISABLED."""

    id: Optional[str] = None
    r"""The pivot view's definition's id"""

    multiple_headers: Annotated[
        Optional[bool], pydantic.Field(alias="multipleHeaders")
    ] = None
    r"""Denotes whether a pivot is created in multi-line header mode. Default is false."""

    pivot_view_type: Annotated[
        Optional[PivotViewType], pydantic.Field(alias="pivotViewType")
    ] = None
    r"""The type of pivot view. Options are currently Classic and Compact."""

    rows: Optional[List[PivotViewDefinitionRowDto]] = None
    r"""The rows associated with the pivot view"""

    sort_columns: Annotated[
        Optional[List[str]], pydantic.Field(alias="sortColumns")
    ] = None
    r"""Columns with which to sort the crosstab query"""

    subtotal_enabled: Annotated[
        Optional[SubtotalEnabled], pydantic.Field(alias="subtotalEnabled")
    ] = None
    r"""The level to which Subtotals are enabled.  It is defaulted to DISABLED."""

    values: Optional[List[PivotViewDefinitionValueDto]] = None
    r"""The values associated with the pivot view"""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "columns",
                "decimalPlaces",
                "filters",
                "grandTotalEnabled",
                "id",
                "multipleHeaders",
                "pivotViewType",
                "rows",
                "sortColumns",
                "subtotalEnabled",
                "values",
            ]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m


class PivotDefinitionDtoInputTypedDict(TypedDict):
    columns: NotRequired[List[PivotViewDefinitionColumnDtoTypedDict]]
    r"""The colmnnns associated with the pivot view"""
    decimal_places: NotRequired[int]
    r"""Numeric data values are rounded to the number of decimal places.  The default number to round to and show is 2 decimal places, and the maximum number is capped at 16."""
    filters: NotRequired[List[PivotViewDefinitionFilterDtoTypedDict]]
    r"""The filters associated with the pivot view"""
    grand_total_enabled: NotRequired[GrandTotalEnabled]
    r"""The level to which Grand Totals are enabled.  It is defaulted to DISABLED."""
    multiple_headers: NotRequired[bool]
    r"""Denotes whether a pivot is created in multi-line header mode. Default is false."""
    pivot_view_type: NotRequired[PivotViewType]
    r"""The type of pivot view. Options are currently Classic and Compact."""
    rows: NotRequired[List[PivotViewDefinitionRowDtoTypedDict]]
    r"""The rows associated with the pivot view"""
    sort_columns: NotRequired[List[str]]
    r"""Columns with which to sort the crosstab query"""
    subtotal_enabled: NotRequired[SubtotalEnabled]
    r"""The level to which Subtotals are enabled.  It is defaulted to DISABLED."""
    values: NotRequired[List[PivotViewDefinitionValueDtoTypedDict]]
    r"""The values associated with the pivot view"""


class PivotDefinitionDtoInput(BaseModel):
    columns: Optional[List[PivotViewDefinitionColumnDto]] = None
    r"""The colmnnns associated with the pivot view"""

    decimal_places: Annotated[Optional[int], pydantic.Field(alias="decimalPlaces")] = (
        None
    )
    r"""Numeric data values are rounded to the number of decimal places.  The default number to round to and show is 2 decimal places, and the maximum number is capped at 16."""

    filters: Optional[List[PivotViewDefinitionFilterDto]] = None
    r"""The filters associated with the pivot view"""

    grand_total_enabled: Annotated[
        Optional[GrandTotalEnabled], pydantic.Field(alias="grandTotalEnabled")
    ] = None
    r"""The level to which Grand Totals are enabled.  It is defaulted to DISABLED."""

    multiple_headers: Annotated[
        Optional[bool], pydantic.Field(alias="multipleHeaders")
    ] = None
    r"""Denotes whether a pivot is created in multi-line header mode. Default is false."""

    pivot_view_type: Annotated[
        Optional[PivotViewType], pydantic.Field(alias="pivotViewType")
    ] = None
    r"""The type of pivot view. Options are currently Classic and Compact."""

    rows: Optional[List[PivotViewDefinitionRowDto]] = None
    r"""The rows associated with the pivot view"""

    sort_columns: Annotated[
        Optional[List[str]], pydantic.Field(alias="sortColumns")
    ] = None
    r"""Columns with which to sort the crosstab query"""

    subtotal_enabled: Annotated[
        Optional[SubtotalEnabled], pydantic.Field(alias="subtotalEnabled")
    ] = None
    r"""The level to which Subtotals are enabled.  It is defaulted to DISABLED."""

    values: Optional[List[PivotViewDefinitionValueDto]] = None
    r"""The values associated with the pivot view"""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "columns",
                "decimalPlaces",
                "filters",
                "grandTotalEnabled",
                "multipleHeaders",
                "pivotViewType",
                "rows",
                "sortColumns",
                "subtotalEnabled",
                "values",
            ]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
