"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .chartdrawingelement import ChartDrawingElement, ChartDrawingElementTypedDict
from .drawingelementtype import DrawingElementType
from .imagedrawingelement import ImageDrawingElement, ImageDrawingElementTypedDict
from .line import Line, LineTypedDict
from .shape import Shape, ShapeTypedDict
from .tabledrawingelement import TableDrawingElement, TableDrawingElementTypedDict
from .unspecifieddrawingelement import (
    UnspecifiedDrawingElement,
    UnspecifiedDrawingElementTypedDict,
)
from pydantic import model_serializer
from typing import Optional
from typing_extensions import NotRequired, TypedDict
from workiva.types import BaseModel, Nullable, OptionalNullable, UNSET, UNSET_SENTINEL


class DrawingElementTypedDict(TypedDict):
    r"""A drawing elements represents a text box, shapes, lines, and any other component of a drawing."""

    chart: NotRequired[Nullable[ChartDrawingElementTypedDict]]
    r"""A drawing element for a chart."""
    image: NotRequired[Nullable[ImageDrawingElementTypedDict]]
    r"""A drawing element for an image."""
    line: NotRequired[Nullable[LineTypedDict]]
    r"""A drawing element for lines, arrows, connectors, etc. All of these elements have two points: a head and tail.

    """
    shape: NotRequired[Nullable[ShapeTypedDict]]
    r"""A drawing element for a shape such as a rectangle, ellipse, polygon,
    etc. This also includes arrows, left bracket, right bracket, and flow chart
    shapes. Shapes can have zero to two modifiers or an auxiliary point depending
    on the shape type.

    """
    table: NotRequired[Nullable[TableDrawingElementTypedDict]]
    r"""A drawing element for a table."""
    type: NotRequired[DrawingElementType]
    r"""The type of the drawing element in a drawing"""
    unspecified: NotRequired[Nullable[UnspecifiedDrawingElementTypedDict]]
    r"""An unspecified drawing element to use as a placeholder for elements
    that have not been explicitly defined in API models.

    The unspecified element makes it possible to add new features to the editor
    without requiring the API models to be updated in tandem. Not only does this
    element give some information about where the unspecified element is drawn,
    it gives the  element''s identifier.

    """


class DrawingElement(BaseModel):
    r"""A drawing elements represents a text box, shapes, lines, and any other component of a drawing."""

    chart: OptionalNullable[ChartDrawingElement] = UNSET
    r"""A drawing element for a chart."""

    image: OptionalNullable[ImageDrawingElement] = UNSET
    r"""A drawing element for an image."""

    line: OptionalNullable[Line] = UNSET
    r"""A drawing element for lines, arrows, connectors, etc. All of these elements have two points: a head and tail.

    """

    shape: OptionalNullable[Shape] = UNSET
    r"""A drawing element for a shape such as a rectangle, ellipse, polygon,
    etc. This also includes arrows, left bracket, right bracket, and flow chart
    shapes. Shapes can have zero to two modifiers or an auxiliary point depending
    on the shape type.

    """

    table: OptionalNullable[TableDrawingElement] = UNSET
    r"""A drawing element for a table."""

    type: Optional[DrawingElementType] = DrawingElementType.SHAPE
    r"""The type of the drawing element in a drawing"""

    unspecified: OptionalNullable[UnspecifiedDrawingElement] = UNSET
    r"""An unspecified drawing element to use as a placeholder for elements
    that have not been explicitly defined in API models.

    The unspecified element makes it possible to add new features to the editor
    without requiring the API models to be updated in tandem. Not only does this
    element give some information about where the unspecified element is drawn,
    it gives the  element''s identifier.

    """

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            ["chart", "image", "line", "shape", "table", "type", "unspecified"]
        )
        nullable_fields = set(
            ["chart", "image", "line", "shape", "table", "unspecified"]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            is_nullable_and_explicitly_set = (
                k in nullable_fields
                and (self.__pydantic_fields_set__.intersection({n}))  # pylint: disable=no-member
            )

            if val != UNSET_SENTINEL:
                if (
                    val is not None
                    or k not in optional_fields
                    or is_nullable_and_explicitly_set
                ):
                    m[k] = val

        return m
