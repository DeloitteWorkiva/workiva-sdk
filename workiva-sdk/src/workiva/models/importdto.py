"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
import pydantic
from pydantic import model_serializer
from typing import Any, Dict, Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva.types import BaseModel, UNSET_SENTINEL


class ImportDtoTypedDict(TypedDict):
    file_id: str
    r"""id of the file to import to the table"""
    column_mappings: NotRequired[Dict[str, str]]
    r"""a map of import column names to table column ids"""
    delimiter: NotRequired[str]
    r"""For overriding the file metadata's delimiter. The file delimiter is the character to
    use within the file to separate one field from another. If this value is not set,
    the import will use the file's set delimiter. If this value is set, the file metadata's
    delimiter will be updated on the file object.
    """
    metadata: NotRequired[Dict[str, Dict[str, Any]]]
    r"""For overriding column metadata specifically for this import. The keys in this object
    are column identifiers with the values being metadata objects.
    """
    tags: NotRequired[Dict[str, str]]
    r"""an object containing keys and values, which becomes the tag map"""


class ImportDto(BaseModel):
    file_id: Annotated[str, pydantic.Field(alias="fileId")]
    r"""id of the file to import to the table"""

    column_mappings: Annotated[
        Optional[Dict[str, str]], pydantic.Field(alias="columnMappings")
    ] = None
    r"""a map of import column names to table column ids"""

    delimiter: Optional[str] = None
    r"""For overriding the file metadata's delimiter. The file delimiter is the character to
    use within the file to separate one field from another. If this value is not set,
    the import will use the file's set delimiter. If this value is set, the file metadata's
    delimiter will be updated on the file object.
    """

    metadata: Optional[Dict[str, Dict[str, Any]]] = None
    r"""For overriding column metadata specifically for this import. The keys in this object
    are column identifiers with the values being metadata objects.
    """

    tags: Optional[Dict[str, str]] = None
    r"""an object containing keys and values, which becomes the tag map"""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["columnMappings", "delimiter", "metadata", "tags"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
