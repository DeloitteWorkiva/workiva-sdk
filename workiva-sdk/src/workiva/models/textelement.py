"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .charttextelement import ChartTextElement, ChartTextElementTypedDict
from .destinationlinktextelement import (
    DestinationLinkTextElement,
    DestinationLinkTextElementTypedDict,
)
from .footnoteannotation import FootnoteAnnotation, FootnoteAnnotationTypedDict
from .footnoteindicator import FootnoteIndicator, FootnoteIndicatorTypedDict
from .hyperlinktextelement import HyperlinkTextElement, HyperlinkTextElementTypedDict
from .imagetextelement import ImageTextElement, ImageTextElementTypedDict
from .pagenumber import PageNumber, PageNumberTypedDict
from .sectionpagenumber import SectionPageNumber, SectionPageNumberTypedDict
from .tabletextelement import TableTextElement, TableTextElementTypedDict
from .textspan import TextSpan, TextSpanTypedDict
from .unspecifiedtextelement import (
    UnspecifiedTextElement,
    UnspecifiedTextElementTypedDict,
)
from enum import Enum
import pydantic
from pydantic import field_serializer, model_serializer
from typing import Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva import models, utils
from workiva.types import BaseModel, Nullable, OptionalNullable, UNSET, UNSET_SENTINEL


class TextElementType(str, Enum, metaclass=utils.OpenEnumMeta):
    r"""The type of the text element in rich text"""

    CHART = "chart"
    DESTINATION_LINK = "destinationLink"
    FOOTNOTE_ANNOTATION = "footnoteAnnotation"
    FOOTNOTE_INDICATOR = "footnoteIndicator"
    HYPERLINK = "hyperlink"
    IMAGE = "image"
    PAGE_NUMBER = "pageNumber"
    SECTION_PAGE_NUMBER = "sectionPageNumber"
    TABLE = "table"
    TEXT_SPAN = "textSpan"
    SOFT_RETURN = "softReturn"
    UNSPECIFIED = "unspecified"


class TextElementTypedDict(TypedDict):
    r"""A text element containing rich text content."""

    chart: NotRequired[Nullable[ChartTextElementTypedDict]]
    r"""An embedded content text element for a chart."""
    destination_link: NotRequired[Nullable[DestinationLinkTextElementTypedDict]]
    r"""A destination link is an element which is replaced with content from a source link.

    """
    footnote_annotation: NotRequired[Nullable[FootnoteAnnotationTypedDict]]
    r"""A dynamic content text element which will be replaced with a footnote number for the footnote content which this element is within. This may only be added to footnotes.

    """
    footnote_indicator: NotRequired[Nullable[FootnoteIndicatorTypedDict]]
    r"""A dynamic content text element which will be replaced with a footnote number within rich text content to indicate that there is a footnote and works as an anchor to help determine which page of the document the footnote will be added to.

    """
    hyperlink: NotRequired[Nullable[HyperlinkTextElementTypedDict]]
    r"""A text element for a hyperlink."""
    image: NotRequired[Nullable[ImageTextElementTypedDict]]
    r"""A text element for image embedded content."""
    page_number: NotRequired[Nullable[PageNumberTypedDict]]
    r"""A dynamic content text element which will be replaced with the current page number.

    """
    section_page_number: NotRequired[Nullable[SectionPageNumberTypedDict]]
    r"""A dynamic content text element which will be replaced with the page number of a specified section.

    """
    table: NotRequired[Nullable[TableTextElementTypedDict]]
    r"""A text element representing a table."""
    text_span: NotRequired[Nullable[TextSpanTypedDict]]
    r"""A text element for a span of text with the same formatting.
    The text string may contain almost any unicode character except for unicode from the Private Use Area (PUA) of unicode (U+E000..U+F8FF), paragraph separators (U+2029), line feeds (U+000A), and carriage returns (U+000D). Paragraph separators and line feeds will be turned into paragraphs. Carriage returns will be normalized out of the text during insertion. Other control unicode, like line separators (U+2028), no break space (U+00A0), and tabs (U+0009), may appear in this text. The text will be quote escaped and may contain unicode escaped characters like \t or \u0000.

    """
    type: NotRequired[TextElementType]
    r"""The type of the text element in rich text"""
    unspecified: NotRequired[Nullable[UnspecifiedTextElementTypedDict]]
    r"""An unspecified text element to use as a placeholder for elements that have not been explicitly defined in API models.

    """


class TextElement(BaseModel):
    r"""A text element containing rich text content."""

    chart: OptionalNullable[ChartTextElement] = UNSET
    r"""An embedded content text element for a chart."""

    destination_link: Annotated[
        OptionalNullable[DestinationLinkTextElement],
        pydantic.Field(alias="destinationLink"),
    ] = UNSET
    r"""A destination link is an element which is replaced with content from a source link.

    """

    footnote_annotation: Annotated[
        OptionalNullable[FootnoteAnnotation], pydantic.Field(alias="footnoteAnnotation")
    ] = UNSET
    r"""A dynamic content text element which will be replaced with a footnote number for the footnote content which this element is within. This may only be added to footnotes.

    """

    footnote_indicator: Annotated[
        OptionalNullable[FootnoteIndicator], pydantic.Field(alias="footnoteIndicator")
    ] = UNSET
    r"""A dynamic content text element which will be replaced with a footnote number within rich text content to indicate that there is a footnote and works as an anchor to help determine which page of the document the footnote will be added to.

    """

    hyperlink: OptionalNullable[HyperlinkTextElement] = UNSET
    r"""A text element for a hyperlink."""

    image: OptionalNullable[ImageTextElement] = UNSET
    r"""A text element for image embedded content."""

    page_number: Annotated[
        OptionalNullable[PageNumber], pydantic.Field(alias="pageNumber")
    ] = UNSET
    r"""A dynamic content text element which will be replaced with the current page number.

    """

    section_page_number: Annotated[
        OptionalNullable[SectionPageNumber], pydantic.Field(alias="sectionPageNumber")
    ] = UNSET
    r"""A dynamic content text element which will be replaced with the page number of a specified section.

    """

    table: OptionalNullable[TableTextElement] = UNSET
    r"""A text element representing a table."""

    text_span: Annotated[
        OptionalNullable[TextSpan], pydantic.Field(alias="textSpan")
    ] = UNSET
    r"""A text element for a span of text with the same formatting.
    The text string may contain almost any unicode character except for unicode from the Private Use Area (PUA) of unicode (U+E000..U+F8FF), paragraph separators (U+2029), line feeds (U+000A), and carriage returns (U+000D). Paragraph separators and line feeds will be turned into paragraphs. Carriage returns will be normalized out of the text during insertion. Other control unicode, like line separators (U+2028), no break space (U+00A0), and tabs (U+0009), may appear in this text. The text will be quote escaped and may contain unicode escaped characters like \t or \u0000.

    """

    type: Optional[TextElementType] = TextElementType.TEXT_SPAN
    r"""The type of the text element in rich text"""

    unspecified: OptionalNullable[UnspecifiedTextElement] = UNSET
    r"""An unspecified text element to use as a placeholder for elements that have not been explicitly defined in API models.

    """

    @field_serializer("type")
    def serialize_type(self, value):
        if isinstance(value, str):
            try:
                return models.TextElementType(value)
            except ValueError:
                return value
        return value

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "chart",
                "destinationLink",
                "footnoteAnnotation",
                "footnoteIndicator",
                "hyperlink",
                "image",
                "pageNumber",
                "sectionPageNumber",
                "table",
                "textSpan",
                "type",
                "unspecified",
            ]
        )
        nullable_fields = set(
            [
                "chart",
                "destinationLink",
                "footnoteAnnotation",
                "footnoteIndicator",
                "hyperlink",
                "image",
                "pageNumber",
                "sectionPageNumber",
                "table",
                "textSpan",
                "unspecified",
            ]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            is_nullable_and_explicitly_set = (
                k in nullable_fields
                and (self.__pydantic_fields_set__.intersection({n}))  # pylint: disable=no-member
            )

            if val != UNSET_SENTINEL:
                if (
                    val is not None
                    or k not in optional_fields
                    or is_nullable_and_explicitly_set
                ):
                    m[k] = val

        return m
