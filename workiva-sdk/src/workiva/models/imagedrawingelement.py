"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .dimensions import Dimensions, DimensionsTypedDict
from .drawingrelativeposition import (
    DrawingRelativePosition,
    DrawingRelativePositionTypedDict,
)
from .fill import Fill, FillTypedDict
from .imageref import ImageRef, ImageRefTypedDict
from .margins import Margins, MarginsTypedDict
from .stroke import Stroke, StrokeTypedDict
from .wrapstyletype import WrapStyleType
import pydantic
from pydantic import field_serializer, model_serializer
from typing import Optional
from typing_extensions import Annotated, NotRequired, TypedDict
from workiva import models
from workiva.types import BaseModel, Nullable, OptionalNullable, UNSET, UNSET_SENTINEL


class ImageDrawingElementTypedDict(TypedDict):
    r"""A drawing element for an image."""

    dimensions: DimensionsTypedDict
    r"""A dimension of a rectangle for properties of objects such as a shape, text box, table, chart, image, or page.

    """
    id: str
    r"""Identifier of the drawing element"""
    margins: Nullable[MarginsTypedDict]
    r"""The margins of a rectangle for properties of objects such as a shape, text box, or page.

    """
    position: DrawingRelativePositionTypedDict
    r"""The relative position of a drawing element."""
    wrap_style: Nullable[WrapStyleType]
    r"""The relative position type"""
    image: ImageRefTypedDict
    r"""A reference to image content in a document, spreadsheet, or presentation"""
    fill: NotRequired[Nullable[FillTypedDict]]
    r"""A shape or box fill settings for things like shapes. Use a null to indicate no fill."""
    stroke: NotRequired[Nullable[StrokeTypedDict]]
    r"""Line stroke setting for things like shape edges. Use a null to indicate no stroke line."""
    rotation: NotRequired[float]
    r"""The rotation in degrees of a shape around the center point of
    the shape. The rotation is applied after the shape is positioned and sized
    meaning the position and dimensions are for the shape without any rotation.

    """


class ImageDrawingElement(BaseModel):
    r"""A drawing element for an image."""

    dimensions: Dimensions
    r"""A dimension of a rectangle for properties of objects such as a shape, text box, table, chart, image, or page.

    """

    id: str
    r"""Identifier of the drawing element"""

    margins: Nullable[Margins]
    r"""The margins of a rectangle for properties of objects such as a shape, text box, or page.

    """

    position: DrawingRelativePosition
    r"""The relative position of a drawing element."""

    wrap_style: Annotated[Nullable[WrapStyleType], pydantic.Field(alias="wrapStyle")]
    r"""The relative position type"""

    image: ImageRef
    r"""A reference to image content in a document, spreadsheet, or presentation"""

    fill: OptionalNullable[Fill] = UNSET
    r"""A shape or box fill settings for things like shapes. Use a null to indicate no fill."""

    stroke: OptionalNullable[Stroke] = UNSET
    r"""Line stroke setting for things like shape edges. Use a null to indicate no stroke line."""

    rotation: Optional[float] = 0
    r"""The rotation in degrees of a shape around the center point of
    the shape. The rotation is applied after the shape is positioned and sized
    meaning the position and dimensions are for the shape without any rotation.

    """

    @field_serializer("wrap_style")
    def serialize_wrap_style(self, value):
        if isinstance(value, str):
            try:
                return models.WrapStyleType(value)
            except ValueError:
                return value
        return value

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["fill", "stroke", "rotation"])
        nullable_fields = set(["fill", "margins", "stroke", "wrapStyle"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            is_nullable_and_explicitly_set = (
                k in nullable_fields
                and (self.__pydantic_fields_set__.intersection({n}))  # pylint: disable=no-member
            )

            if val != UNSET_SENTINEL:
                if (
                    val is not None
                    or k not in optional_fields
                    or is_nullable_and_explicitly_set
                ):
                    m[k] = val

        return m
