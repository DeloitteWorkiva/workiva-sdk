"""Platform API â€” reports namespace.

Auto-generated by codegen. Do not edit manually.
"""

from __future__ import annotations

from typing import Any, Optional

import httpx

from workiva._constants import _API
from workiva._operations._base import BaseNamespace


class Reports(BaseNamespace):
    """Reports operations."""

    _api: _API = _API.PLATFORM

    def get_org_report_users(
        self,
        *,
        organization_id: str,
        page_after: Optional[str] = None,
        page_size: Optional[int] = 100,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """List organization users

        Similar to an organization admin's "People View" export, this returns a
        paged list of specific details about the organization's users, including
        their usernames, display names, email addresses, SAML IDs, last logins,
        workspace memberships, licenses and roles. Results are sorted by
        displayName. <br /><br /> To obtain an organization's users, you need
        its organizationId. To view the organizationId in Wdesk, click your name
        in the lower left, and select <strong>Organization Admin</strong>. In
        the URL in your browser, the organizationId appears as a GUID after the
        /o/ such as 371b5fc8-fcc4-404a-9d22-d07d8f46a7e0. To view the ID of
        another organization you manage, select <strong>Switch
        Organizations</strong> from the left-hand menu, and search for and
        select the organization. <br /><br /> <strong>Requires the calling user
        to be an organization admin</strong>.
        """
        return self._client.request(
            "GET",
            self._api,
            "/organizations/{organizationId}/orgReportUsers",
            path_params={
                "organizationId": organization_id,
            },
            query_params={
                "page[after]": page_after,
                "page[size]": page_size,
            },
            timeout=timeout,
        )

    async def get_org_report_users_async(
        self,
        *,
        organization_id: str,
        page_after: Optional[str] = None,
        page_size: Optional[int] = 100,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """List organization users (async)

        Similar to an organization admin's "People View" export, this returns a
        paged list of specific details about the organization's users, including
        their usernames, display names, email addresses, SAML IDs, last logins,
        workspace memberships, licenses and roles. Results are sorted by
        displayName. <br /><br /> To obtain an organization's users, you need
        its organizationId. To view the organizationId in Wdesk, click your name
        in the lower left, and select <strong>Organization Admin</strong>. In
        the URL in your browser, the organizationId appears as a GUID after the
        /o/ such as 371b5fc8-fcc4-404a-9d22-d07d8f46a7e0. To view the ID of
        another organization you manage, select <strong>Switch
        Organizations</strong> from the left-hand menu, and search for and
        select the organization. <br /><br /> <strong>Requires the calling user
        to be an organization admin</strong>.
        """
        return await self._client.request_async(
            "GET",
            self._api,
            "/organizations/{organizationId}/orgReportUsers",
            path_params={
                "organizationId": organization_id,
            },
            query_params={
                "page[after]": page_after,
                "page[size]": page_size,
            },
            timeout=timeout,
        )
