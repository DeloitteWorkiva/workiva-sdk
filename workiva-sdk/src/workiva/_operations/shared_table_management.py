"""Wdata API â€” shared_table_management namespace.

Auto-generated by codegen. Do not edit manually.
"""

from __future__ import annotations

from typing import Any, Optional

import httpx

from workiva._constants import _API
from workiva._operations._base import BaseNamespace


class SharedTableManagement(BaseNamespace):
    """SharedTableManagement operations."""

    _api: _API = _API.WDATA

    def create_shared_table(
        self,
        *,
        body: SharedTableDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Create a new shared table

        Creates a shared table instance between the workspace of the request and
        the workspace provided in the body.
        """
        return self._client.request(
            "POST",
            self._api,
            "/api/v1/sharedtable",
            json_body=body,
            timeout=timeout,
        )

    async def create_shared_table_async(
        self,
        *,
        body: SharedTableDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Create a new shared table (async)

        Creates a shared table instance between the workspace of the request and
        the workspace provided in the body.
        """
        return await self._client.request_async(
            "POST",
            self._api,
            "/api/v1/sharedtable",
            json_body=body,
            timeout=timeout,
        )

    def list_shared_tables(
        self,
        *,
        shared_with_me: Optional[bool] = None,
        table_id: Optional[str] = None,
        cursor: Optional[str] = None,
        limit: Optional[int] = 1000,
        offset: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a list of shared tables

        Returns a list of shared tables associated with the workspace of the
        request.
        """
        return self._client.request(
            "GET",
            self._api,
            "/api/v1/sharedtable",
            query_params={
                "sharedWithMe": shared_with_me,
                "tableId": table_id,
                "cursor": cursor,
                "limit": limit,
                "offset": offset,
            },
            timeout=timeout,
        )

    async def list_shared_tables_async(
        self,
        *,
        shared_with_me: Optional[bool] = None,
        table_id: Optional[str] = None,
        cursor: Optional[str] = None,
        limit: Optional[int] = 1000,
        offset: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a list of shared tables (async)

        Returns a list of shared tables associated with the workspace of the
        request.
        """
        return await self._client.request_async(
            "GET",
            self._api,
            "/api/v1/sharedtable",
            query_params={
                "sharedWithMe": shared_with_me,
                "tableId": table_id,
                "cursor": cursor,
                "limit": limit,
                "offset": offset,
            },
            timeout=timeout,
        )

    def delete_shared_table(
        self,
        *,
        shared_table_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Delete a single shared table

        Deletes the linkages between the source and destination of a shared
        table that matches
        the provided ID; the actual table itself is left intact. If no such
        shared table exists,
        this is a no-op.
        """
        return self._client.request(
            "DELETE",
            self._api,
            "/api/v1/sharedtable/{sharedTableId}",
            path_params={
                "sharedTableId": shared_table_id,
            },
            timeout=timeout,
        )

    async def delete_shared_table_async(
        self,
        *,
        shared_table_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Delete a single shared table (async)

        Deletes the linkages between the source and destination of a shared
        table that matches
        the provided ID; the actual table itself is left intact. If no such
        shared table exists,
        this is a no-op.
        """
        return await self._client.request_async(
            "DELETE",
            self._api,
            "/api/v1/sharedtable/{sharedTableId}",
            path_params={
                "sharedTableId": shared_table_id,
            },
            timeout=timeout,
        )

    def get_shared_table(
        self,
        *,
        shared_table_id: str,
        shared_with_me: Optional[bool] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a single shared table

        Returns a shared table that matches the provided ID, or a 404 if no
        matching shared table is found.
        """
        return self._client.request(
            "GET",
            self._api,
            "/api/v1/sharedtable/{sharedTableId}",
            path_params={
                "sharedTableId": shared_table_id,
            },
            query_params={
                "sharedWithMe": shared_with_me,
            },
            timeout=timeout,
        )

    async def get_shared_table_async(
        self,
        *,
        shared_table_id: str,
        shared_with_me: Optional[bool] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a single shared table (async)

        Returns a shared table that matches the provided ID, or a 404 if no
        matching shared table is found.
        """
        return await self._client.request_async(
            "GET",
            self._api,
            "/api/v1/sharedtable/{sharedTableId}",
            path_params={
                "sharedTableId": shared_table_id,
            },
            query_params={
                "sharedWithMe": shared_with_me,
            },
            timeout=timeout,
        )
