"""Wdata API â€” pivot_view_management namespace.

Auto-generated by codegen. Do not edit manually.
"""

from __future__ import annotations

from typing import Any, Optional

import httpx

from workiva._constants import _API
from workiva._operations._base import BaseNamespace


class PivotViewManagement(BaseNamespace):
    """PivotViewManagement operations."""

    _api: _API = _API.WDATA

    def create_pivot_view(
        self,
        *,
        body: PivotViewDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Create a new pivot view

        Creates a view from the provided information. Currently, persists the
        provided
        `additionalMetadata` field, which can store an arbitrary JSON definition
        of a pivot
        table view. This pivot table must be associated with a query, and can
        optionally be
        associated with a query result. When a query is deleted, its associated
        views are
        also deleted.
        """
        return self._client.request(
            "POST",
            self._api,
            "/api/v1/pivotview",
            json_body=body,
            timeout=timeout,
        )

    async def create_pivot_view_async(
        self,
        *,
        body: PivotViewDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Create a new pivot view (async)

        Creates a view from the provided information. Currently, persists the
        provided
        `additionalMetadata` field, which can store an arbitrary JSON definition
        of a pivot
        table view. This pivot table must be associated with a query, and can
        optionally be
        associated with a query result. When a query is deleted, its associated
        views are
        also deleted.
        """
        return await self._client.request_async(
            "POST",
            self._api,
            "/api/v1/pivotview",
            json_body=body,
            timeout=timeout,
        )

    def list_pivot_views(
        self,
        *,
        query_id: str,
        cursor: Optional[str] = None,
        limit: Optional[int] = 1000,
        offset: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a list of pivot views

        Returns a paged list of views in the workspace of the request. If
        queryId is provided, the results are limited to only views associated
        with the query ID.
        """
        return self._client.request(
            "GET",
            self._api,
            "/api/v1/pivotview",
            query_params={
                "queryId": query_id,
                "cursor": cursor,
                "limit": limit,
                "offset": offset,
            },
            timeout=timeout,
        )

    async def list_pivot_views_async(
        self,
        *,
        query_id: str,
        cursor: Optional[str] = None,
        limit: Optional[int] = 1000,
        offset: Optional[int] = None,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a list of pivot views (async)

        Returns a paged list of views in the workspace of the request. If
        queryId is provided, the results are limited to only views associated
        with the query ID.
        """
        return await self._client.request_async(
            "GET",
            self._api,
            "/api/v1/pivotview",
            query_params={
                "queryId": query_id,
                "cursor": cursor,
                "limit": limit,
                "offset": offset,
            },
            timeout=timeout,
        )

    def update_pivot_view(
        self,
        *,
        pivot_view_id: str,
        body: PivotViewDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Update a single pivot view

        Updates the view that matches the provided ID with the details provided
        in the
        body. The associated query can't be updated, so providing the query ID
        has no effect.
        """
        return self._client.request(
            "PUT",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            json_body=body,
            timeout=timeout,
        )

    async def update_pivot_view_async(
        self,
        *,
        pivot_view_id: str,
        body: PivotViewDto,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Update a single pivot view (async)

        Updates the view that matches the provided ID with the details provided
        in the
        body. The associated query can't be updated, so providing the query ID
        has no effect.
        """
        return await self._client.request_async(
            "PUT",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            json_body=body,
            timeout=timeout,
        )

    def delete_pivot_view(
        self,
        *,
        pivot_view_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Delete a single pivot view

        Deletes a view that matches the provided ID.  This is an administrative
        method and
        should be assumed a hard-delete, given no capability to restore a
        deleted view is
        available.  A no-op if no such view exists.
        """
        return self._client.request(
            "DELETE",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            timeout=timeout,
        )

    async def delete_pivot_view_async(
        self,
        *,
        pivot_view_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Delete a single pivot view (async)

        Deletes a view that matches the provided ID.  This is an administrative
        method and
        should be assumed a hard-delete, given no capability to restore a
        deleted view is
        available.  A no-op if no such view exists.
        """
        return await self._client.request_async(
            "DELETE",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            timeout=timeout,
        )

    def get_pivot_view(
        self,
        *,
        pivot_view_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a single pivot view

        Returns a view with the provided ID, or a 404 if no view matches the ID.
        """
        return self._client.request(
            "GET",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            timeout=timeout,
        )

    async def get_pivot_view_async(
        self,
        *,
        pivot_view_id: str,
        timeout: Optional[float] = None,
    ) -> httpx.Response:
        """Retrieve a single pivot view (async)

        Returns a view with the provided ID, or a 404 if no view matches the ID.
        """
        return await self._client.request_async(
            "GET",
            self._api,
            "/api/v1/pivotview/{pivotViewId}",
            path_params={
                "pivotViewId": pivot_view_id,
            },
            timeout=timeout,
        )
